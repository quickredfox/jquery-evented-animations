<!DOCTYPE html>
<html>
<head>
	<meta charset=utf-8 />
	<title>}</title>
	<link rel="stylesheet" type="text/css" media="screen" href="css/master.css" />
	<script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.4.2/jquery.min.js"></script>
		<script src="jquery.evented-animations.js" type="text/javascript" charset="utf-8"></script>
	<!--[if IE]>
		<script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
		<script type="text/javascript" charset="utf-8">
			// Fixes jquery injects for IE
			window.innerShiv=(function(){var d,r;return function(h,u){if(!d){d=document.createElement('div');r=document.createDocumentFragment();}
			var e=d.cloneNode(true);e.innerHTML=h;if(u===false)return e.childNodes;var f=r.cloneNode(true),i=e.childNodes.length;while(i--)f.appendChild(e.firstChild);return f;}}());$.each(['after','before','append','prepend','replaceWith'],function(index,fnName){$.fn['_old_'+fnName]=$.fn[fnName];$.fn[fnName]=function(h){if(typeof h=='string')
			return $.fn['_old_'+fnName].call(this,innerShiv(h));else return $.fn['_old_'+fnName].apply(this,arguments);};});
		</script>
	<![endif]-->
	<style type="text/css" media="screen">
	body{width:1000px;height:500px;font-family:sans-serif}
	#demo{
		position:relative;
		top:0;left:0;width:200px;
		color:#fff;
		padding:10px;text-align:center;
	}
	</style>
	<script type="text/javascript" charset="utf-8">
	// When the document is ready
	$(function() {
		var texts = [
			'An element to be animated /w listeners bound.',
			'An element modified by the start.animate listener',		
			'An element modified by the step.animate listener',			
			'An element modified by the end.animate listener'
		];
		var demo = $('#demo').html(texts.shift()).css({background:'blue'});
		demo.bind('start.animate',function(event) {
			$(this).html(texts.shift()).css({background:'green'})
		});
		// POC, dont need to see every single "step" ;
		var steps = 0;
		demo.bind('step.animate',function(event) {
			steps ++
			if(steps == 8) $(this).html(texts.shift()).css({background:'orange'})
		});
		demo.bind('end.animate',function(event) {
			console.debug($(this))
			$(this).html(texts.shift()).css({background:'red'});
		});
		setTimeout(function() {
			$('#demo').animate({left:'500px'},{evented:true,duration:1000});	
		},1000)

	})
	</script>
</head>
<body>
	<div id="demo"></div>
</body>
</html>

